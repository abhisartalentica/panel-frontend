(this.webpackJsonpinterview_panel=this.webpackJsonpinterview_panel||[]).push([[0],{15:function(e,t,a){},33:function(e,t,a){e.exports=a(54)},38:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),o=a.n(r),s=(a(38),a(15),a(17)),c=a(24),i=a(5),u=a(6),m=a(8),d=a(7),p=a(9),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;return fetch(e,{method:a,mode:"no-cors",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))},h=function(e){return fetch(e).then((function(e){return e.json()}))},f=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return v.apply(void 0,t.concat(["POST"]))},b=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return v.apply(void 0,t.concat(["PUT"]))},E={get:function(){return h.apply(void 0,arguments)},post:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(e,t)},put:function(){return b.apply(void 0,arguments)}},y=a(21),g=a.n(y),O=a(16),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.props;return console.log("hre",e.history),l.a.createElement("div",null,l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"header"},"ProPanel"),l.a.createElement("div",{className:"options"},l.a.createElement("ul",null,l.a.createElement(O.b,{style:{color:"white"},activeStyle:{color:"red"},to:"./home"},l.a.createElement("li",null,"Home")),l.a.createElement(O.b,{style:{color:"white"},activeStyle:{color:"red"},to:"./super"},l.a.createElement("li",null,"Manage")),l.a.createElement(O.b,{style:{color:"white"},activeStyle:{color:"red"}},l.a.createElement("li",null,"Analitics"))))))}}]),t}(n.Component),j=function(){return l.a.createElement("div",{className:"header-main"})},w=a(14),N=(a(45),[{name:"karan bhandari",skill:["java","c"]},{name:"karan bhandari1",skill:["java","c++"]},{name:"karan bhandari2",skill:["java"]},{name:"karan bhandari3",skill:["java","python"]},{name:"karan bhandari4",skill:["node"]},{name:"karan bhandari5",skill:["python"]},{name:"karan bhandari6",skill:["c++","js"]}]),S=[{name:"one",value:"one"},{name:"two",value:"two"},{name:"three",value:"three"},{name:"four",value:"four"},{name:"five",value:"five"},{name:"six",value:"six"}],_=a(31),P=a.n(_),C=a(32),I=a.n(C);function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var D={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"500px"}},M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setEmail=function(e){return a.setState({addEmail:e.target.value})},a.afterOpenModal=function(){a.subtitle.style.color="#f00"},a.closeModal=function(){a.setState({modalIsOpen:!1})},a.result=function(e){var t=a.state.skills;console.log(e);var n=t.filter((function(t){return e.includes(t.name)})).map((function(e){return e.id}));a.setState({addSkills:n})},a.removePanel=function(e){N.splice(e,1),a.setState({panelList:N})},a.addPanel=function(){var e=a.state,t=e.addEmail,n=e.addSkills;E.post("http://172.19.4.37:3000/add_modify_panel",{email:t,skill_set_ids:n}).then((function(e){a.getPanel(),a.closeModal()}))},a.removePanel=function(e){E.post("http://172.19.4.37:3000/remove_panel",{email:e}).then((function(e){a.getPanel()}))},a.getPanel=function(){E.get("http://172.19.4.37:3000/get_panel_members").then((function(e){a.setState({panelList:e})}))},a.getSkills=function(){E.get("http://172.19.4.37:3000/skills").then((function(e){console.log("here",e),a.setState({skills:e.reduce((function(e,t){return e.concat(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t,{value:t.name}))}),[])})}))},a.openModal=function(){a.setState({modalIsOpen:!0}),a.getSkills()},a.state={modalIsOpen:!1,panelList:[],skills:[],addSkills:[],addEmail:"",removeEmail:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getPanel()}},{key:"render",value:function(){var e=this,t=this.state,a=t.panelList,n=t.skills;return console.log("rrrr",n,S),l.a.createElement("div",{className:"tab_2 pt2"},l.a.createElement("div",{className:"pt2 add_button"},l.a.createElement("button",{className:"button-submit",onClick:this.openModal},"Add")),l.a.createElement("div",{className:"tab_modal"},l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Panel Name"),l.a.createElement("th",{colspan:"2"},"Skills")),l.a.createElement("tbody",null,a.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.skill_name.toString()),l.a.createElement("td",null," ",l.a.createElement("button",{className:"button-submit",onClick:function(){return e.removePanel(t.email)}},"Remove")))}))))),l.a.createElement(P.a,{isOpen:this.state.modalIsOpen,onAfterOpen:this.afterOpenModal,onRequestClose:this.closeModal,style:D,contentLabel:"Example Modal"},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"tab_modal"},l.a.createElement("div",null,l.a.createElement("div",{ref:function(t){return e.subtitle=t}},"Update panel list")),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.closeModal},"X"))),l.a.createElement("div",{className:"pt2"},"You can add new panel or update skills of existing panel."),l.a.createElement("div",{className:"pt2"},"Email"),l.a.createElement("div",{className:"pt2"},l.a.createElement("input",{className:"input_modal",type:"text",onChange:this.setEmail})),l.a.createElement("div",{className:"pt2"},"Skill"),l.a.createElement("div",null,n.length&&l.a.createElement(I.a,{options:n,onSelectOptions:this.result})),l.a.createElement("div",{className:"pt2 modal_button"},l.a.createElement("button",{className:"button-submit",onClick:this.addPanel},"Submit")))))}}]),t}(n.Component);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getSurveyDetails=function(){var e=a.state.surveyId;E.post("http://172.19.4.37:3000/surveys",{id:parseInt(e[3])}).then((function(e){a.setState({daysOfInterviewRes:e[0].dates_array.map((function(e){return{label:e,value:!1}}))})}))},a.submitResponse=function(){var e=a.state,t=e.surveyId,n=e.daysOfInterviewRes,l=e.comments,r=e.outstation;E.post("http://172.19.4.37:3000/respond",{survey_id:parseInt(t[3]),email:t[2],dates_array:n.filter((function(e){return e.value})).map((function(e){return e.label})),comments:l,outstation:r}).then((function(e){alert(e)}))},a.onToggle=function(e){var t=Object(c.a)(a.state.daysOfInterviewRes);t[e.target.id]=A({},t[e.target.id],{value:e.target.checked}),a.setState({daysOfInterviewRes:t})},a.onToggleOutstation=function(e){console.log("errr",e.target.checked),a.setState({outstation:e.target.checked})},a.onDateChange=function(e){var t=Object(c.a)(a.state.daysOfInterview);t[e.target.id]=A({},t[e.target.id],{label:e.target.value}),a.setState({daysOfInterview:t})},a.createSurvey=function(){E.post("http://172.19.4.37:3000/create_survey",{name:"Survey-".concat(100*Math.random()),date:g()().format("YYYY-MM-DD HH:mm:ss"),dates_array:a.state.daysOfInterview.map((function(e){return e.label}))}).then((function(e){alert(e),console.log("here",e)}))},a.setComments=function(e){a.setState({comments:e.target.value})},a.state={isAdminUser:!a.props.location.pathname.includes("@"),surveyId:a.props.location.pathname.split("/"),daysOfInterviewRes:[],comments:"",outstation:!1,daysOfInterview:Array(6).fill(0).map((function(e,t){return{label:g()().add(6*t,"days").format("YYYY-MM-DD"),value:!1}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.isAdminUser||this.getSurveyDetails()}},{key:"render",value:function(){var e=this,t=this.state,a=t.daysOfInterview,n=t.isAdminUser,r=t.daysOfInterviewRes;console.log("here",r);return l.a.createElement("div",{className:"main_container"},n&&l.a.createElement(k,{props:this.props}),l.a.createElement("div",{className:"body-content"},l.a.createElement(j,null),l.a.createElement("div",{className:"pt2"},l.a.createElement(w.d,{defaultFocus:!0,defaultIndex:1},l.a.createElement(w.b,null,l.a.createElement(w.a,null,"Form"),n&&l.a.createElement(w.a,null,"Panel")),l.a.createElement(w.c,{className:"tab_1 pt2"},l.a.createElement("div",{className:"container_1"},l.a.createElement("div",{className:"availablity"},"".concat(n?"Customize the dates for interview":"Please mark your availability on following dates")),n?a.map((function(t,a){return l.a.createElement("div",{className:"check_box"},l.a.createElement("input",{type:"date",className:"input_date",value:t.label,id:a,onChange:e.onDateChange}))})):r.map((function(t,a){return l.a.createElement("div",{className:"check_box"},l.a.createElement("input",{className:"checkbox",type:"checkbox",id:a,name:"lastname",placeholder:"Your last name..",onClick:e.onToggleOutstation}),l.a.createElement("label",null,t.label))})),!n&&l.a.createElement("div",null,l.a.createElement("div",{className:"pt2"},l.a.createElement("input",{className:"checkbox",type:"checkbox",name:"lastname",placeholder:"Your last name..",onClick:this.onToggleOutstation}),l.a.createElement("label",null,"Outsation ready")),l.a.createElement("div",{className:"pt2"},"Comments"),l.a.createElement("div",{className:"pt2"},l.a.createElement("textarea",{onChange:this.setComments,rows:"10",cols:"60"}))),l.a.createElement("div",{className:"pt1"},l.a.createElement("button",{className:"button-primary",onClick:function(){return n?e.createSurvey():e.submitResponse()}},"Submit")))),l.a.createElement(w.c,null,l.a.createElement(M,null))))))}}]),t}(n.Component),L=a(12),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).setEmail=function(e){return a.setState({email:e})},a.setPassword=function(e){return a.setState({password:e})},a.signIn=function(){var e=a.state,t=e.email,n=e.password;E.post("http://172.19.4.37:3000/validate",{email:t,password:n}).then((function(e){e.status&&a.props.history.push("/home")}))},a.state={email:"",password:""},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container_login"},l.a.createElement("div",{className:"login"}," LOGIN"),l.a.createElement("div",{className:"pt2"},l.a.createElement("input",{id:"email",placeholder:"username",label:"Email Address",name:"email",type:"text",className:"input_login",onChange:function(t){return e.setEmail(t.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{id:"password",placeholder:"password",label:"password",name:"password",type:"password",className:"input_login",onChange:function(t){return e.setPassword(t.target.value)}})),l.a.createElement("div",{className:"pt2"},l.a.createElement("button",{className:"button-secondary",onClick:this.signIn},"LOGIN")))}}]),t}(n.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).getAllSurveys=function(){E.get("http://172.19.4.37:3000/get_all_surveys").then((function(e){return a.setState({surveys:e})}))},a.resendInvitation=function(e){E.post("http://172.19.4.37:3000/send_reminder_mails",{survey_id:e}).then((function(e){return alert(e)}))},a.state={surveys:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.getAllSurveys()}},{key:"render",value:function(){var e=this,t=this.state.surveys;return l.a.createElement("div",null,l.a.createElement("div",{class:"main_container"},l.a.createElement(k,{props:this.props}),l.a.createElement("div",{className:"body-content"},l.a.createElement(j,null),l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Created on"),l.a.createElement("th",null,"Recepients"),l.a.createElement("th",null,"Responders"),l.a.createElement("th",null,"Resend invitation")),l.a.createElement("tbody",null,t.map((function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.created_on),l.a.createElement("td",null,t.recepients.split(",").length),l.a.createElement("td",null,t.responders.split(",").length-1),l.a.createElement("td",null,l.a.createElement("button",{className:"button-submit",onClick:function(){return e.resendInvitation(t.id)},disabled:t.recepients.split(",").length-t.responders.split(",").length+1===0},"Resend")))}))))))))}}]),t}(n.Component);var H=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(O.a,null,l.a.createElement(L.c,null,l.a.createElement(L.a,{path:"/super",component:Y,exact:!0}),l.a.createElement(L.a,{path:"/form/:email",component:Y}),l.a.createElement(L.a,{path:"/",component:T,exact:!0}),l.a.createElement(L.a,{path:"/home",component:U,exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.dd23a247.chunk.js.map